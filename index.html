<!DOCTYPE html>
<html>

<head>
    <title>chrom test case</title>
    <style>
        *,
        * * {
            margin: 0;
            padding: 0;
            border: 0;
            outline: 0;
            font-size: 15px;
        }

        html,
        body {
            width: 100%;
            height: 100%;
            display: block;
            background: white;
        }

        #app {
            width: 200px;
            height: 200px;
            background: #d2fafb;
            color: black;
        }
    </style>
</head>

<body>
    <!-- <iframe src="https://ribbon-color.glitch.me/" style="width:1000px; height:500px; display:block;" /> -->
    <div id="app">
        <span>Click: <span id="mouse_click"></span></span>
    </div>
    <script>
        let clickTimeout = null;
        const checkTrusted = fn => {
            return (event, ...args) => {
                if (!event.isTrusted) {
                    return;
                }
                return fn(event, ...args);
            };
        };
        document.addEventListener(
            "click",
            checkTrusted(event => {
                const x = event.clientX + window.scrollX;
                const y = event.clientY + window.scrollY;
                const txt = ` x[${x}] y[${y}]`;
                const el = document.getElementById("mouse_click");
                el.innerText = txt;
                if(clickTimeout){
                    console.log('clearing timeout');
                    clearTimeout(clickTimeout);
                }
                clickTimeout = setTimeout(() => {
                    el.innerText = "";
                }, 3000);
            })
        );
    </script>
</body>

</html>